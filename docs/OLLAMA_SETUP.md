# ü¶ô –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ollama –¥–ª—è Smart Trip Copilot

Ollama –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å LLM –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ API. 

## üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ollama

### Windows
```bash
# –°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞
https://ollama.com/download/windows

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ winget
winget install Ollama.Ollama
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
ollama --version
```

## üì¶ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏

```bash
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ–¥–µ–ª—å (3.8GB, –±—ã—Å—Ç—Ä–∞—è)
ollama pull llama3.2

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
ollama pull mistral      # 4GB, —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
ollama pull gemma2       # 5GB, Google –º–æ–¥–µ–ª—å
ollama pull qwen2        # 4GB, —Ö–æ—Ä–æ—à–æ –¥–ª—è –Ω–µ-–∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ
```

## üöÄ –ó–∞–ø—É—Å–∫ Ollama

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
ollama serve

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
curl http://localhost:11434/api/tags
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
```bash
copy .env.example .env
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `.env`:
```
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2
PREFER_LOCAL_LLM=true
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python -c "from src.utils.llm import get_llm_client; c = get_llm_client(); print(c.complete('–ü—Ä–∏–≤–µ—Ç!'))"
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ–¥–µ–ª–∏

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | RAM | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ |
|--------|--------|-----|----------|----------|
| `llama3.2` | 2GB | 4GB+ | ‚ö° –ë—ã—Å—Ç—Ä–∞—è | ‚≠ê‚≠ê‚≠ê‚≠ê |
| `llama3.2:3b` | 2GB | 4GB+ | ‚ö°‚ö° –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è | ‚≠ê‚≠ê‚≠ê |
| `mistral` | 4GB | 8GB+ | ‚ö° –ë—ã—Å—Ç—Ä–∞—è | ‚≠ê‚≠ê‚≠ê‚≠ê |
| `llama3.1:8b` | 4.7GB | 8GB+ | üê¢ –°—Ä–µ–¥–Ω—è—è | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

–î–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º `llama3.2` ‚Äî –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞.

## üîß Troubleshooting

### Ollama –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç
netstat -an | findstr 11434

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Ollama
taskkill /f /im ollama.exe
ollama serve
```

### –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
ollama list

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω—É–∂–Ω—É—é
ollama pull llama3.2
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å (`llama3.2:3b`)
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ RAM

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- [Ollama Documentation](https://github.com/ollama/ollama)
- [Ollama Models Library](https://ollama.com/library)
